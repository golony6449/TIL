# 메타클래스

## 메타클래스란?

### 데이터 모델

* 파이썬에서 모든 것은 객체
* ID, VALUE, **TYPE**으로 추상화
* 기본타입: INT, FLOAT, COMPLEX ...
* 커스텀 타입: Class
* 모든것: 코드(변수, 함수, 클래스 모두) 또한 객체로서 표현
* 클래스도 ID(`id()`), 값(`dir()`), 타입(`type()`) 값을 가짐
* 타입을 정의하는 특별한 타입 ==> 메타클래스



### 메타클래스

* `type`의 역할: 1개의 인자, 3개의 인자
* 3개의 매개변수를 사용해 객체 생성 == class 생성



## 클래스 정의 과정

* MRO 생성
* 메타 클래스 결정 (기본: type)



## 메타 클래스의 활용

* `__prepare__`
* `__new__`
* `__init__`
* `__call__`



### 클래스 검증

* 올바른 생성 여부를 컴파일 시점에 확인 가능
* 
* 상속 통제: `__new__`의 두번째 인자는  ==> (다중)상속 금지 가능



### 싱글톤

* 데코레이터를 이용할 수도 있음
* `__call__`: 인스턴스 생성에 관여하는 메서드 오버라이드



## 디스크립터와 네임스페이스 연결

* 디스크립터: getter, setter를 구현하는 새로운 방식



## 오픈소스에서 메타클래스

### Celery

* Task 크래스를 상속받으면 메타클래스인 TaskType에서 자동으로 등록
* 주: `v.4`부터 삭제



### Django - Form

* Declare... 를 메타클래스로 사용
* 폼 정의시 사용하느 필드를 메타클래스에서 자동으로 수집



### Django - ModelForm

* 모델폼의 몇몇설정을 Meta클래스로 설정



### Django - Model

* 
* 