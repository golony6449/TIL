## 서버
### base on 그림으로 공부하는 IT 인프라 구조
==============================================
## 서버의 내부 구성
* RAM - CPU: 직접 연결, 나머지는 노스 브릿지를 통해 BUS로 연결
* 일반 PC와 IA서버의 구성은 동일 => 내부 구성의 이중화, 고성능 높은 신뢰성의 컴포넌트 사용이 차이점

### 메모리 구성
* CPU 자체의 메모리: 레지스터 or L1, L2, L3 캐시 => CPU 내부에 존재, 가장 빠른 속도, 매우 적은 용량
* 메모리 영역이 어러개 존재하는 이유 => 메인메모리 이용을 위해서는 MEMcon을 통해 CPU 외부로 나가야 함 => 지연 발생
* 캐시 메모리 용량이 커질수록 속도 느려짐 => 여러단계로 배치, 자주 사용하는 데이터 별로 저장
* 메모리 컨트롤러 and 채널: 대부분의 데이터는 연속적으로 읽음 => 예상되는 데이터를 미리 읽어 지연시간 감소 (기능활용을 위해서는 같은 채널에 메모리 배치)

### 저장소
* 대형 저장소와 연결할때는 Fibre Channel 케이블을 이용, SAN 네트워크 경유
* 보통의 서버에는 FC포트가 없음 => PCI슬롯에 HBA 카드 삽입해 사용
* FC포트: SAN 접속을 위한 파일 채널 인터페이스

#### IO
* 2종류의 IO 존재: 읽기/쓰기 캐시 엑세스, 캐시와 HDD 모두 엑세스
* 읽기/쓰기 캐시: 장점: 캐시에 저장함으로서 쓰기처리 종료 => 빠른 IO, 단점: 데이터 손실 가능성 존재(별도의 캐시와 미러링해 안정성 보장) : Write Back
* 캐시, HDD에 모두 엑세스: 쓰기에서 캐시, 디스크를 모두 읽어 확실한 쪽에 쓰기처리 : Write Through


### IO 제어
* IO핸들러(IOH) - South Bridge, IO컨트롤러(ICH) - North Bridge 로 구성
* IOH는 고속IO를, ICH는 저속IO를 제어
* CPU에서 제어부분을 담당하는 파트를 분리 => CPU는 연산에 집중
* IO처리는 IO와 가까운 곳에서 처리하는 것이 유리

### 버스
* 내부의 컴포넌트를 연결하는 회선
* 중요 포인트: 대역폭(전송능력) (= 쓰루풋, Throughput)
* ex) PCI-E: 1회선당 1GB/s => PCI-E x16: 16회선의 전송폭(16GB/s)
* CPU에 가까울 수록 버스 대역 큼
* 외부 장치 연결시 버스, IO능력 고려 필요
* ex) 1333MHz 2장을 한 채널에 장착 => 1066MHz로 다운클럭 (대역폭 한계) => 굳이 비싼 1333MHz 장착 필요 없음

### infiniband
* NIC 대신 HCA 어댑터를 사용해 통신
* 대역폭 10GBps ~ 56GBps
* 시스템간 고속 인터페이스로서 사용되었음
* 현재는 분산형 클러스터 구성에 사용됨