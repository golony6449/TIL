# Chapter 11 NP 완비(Completeness)
## 개요
* 효율적인 방법 X
* 현실적인 시간안에 해답을 얻을 수 있는 솔루션 X
* 지금까지의 알고리즘은 P (NP-완비가 아님)

## 문제의 종류
* 풀수 없는 문제
* 풀수 있는 문제 = 현실적인 시간내에 풀 수 있는 문제 + 풀 수 없는 문제(NP-완비)

### 현실적인 시간
* 다항식 시간을 의미
* 입력의 크기 n의 다항식으로 표시되는 시간: 3n^k^ + 5n^k-1^ + ...
* k는 많아야 6 정도


* 비다항식 시간: 지수시간(2^n^), 계승시간(n!)
* 기하급수적으로 숫자가 커지는 경우

## 정지문제
* 모든 입력에 대해 정지문제를 풀 수 없는 일반적인 알고리즘이 존재하지 않음을 튜링이 증명
* halt(a, i) 함수: 실행이 끝나면 true, 끝나지 않고 계속되면 false를 반환

```
function trouble(string s){
    if halt(s, s) == false return true
    else
    	loop forever
}
```

* 영원히 멈추기 않음, 모순 존재
* (halt가 끝나면 무한루프, 끝나지 않으면 true를 반환)

## Yes/No 문제
* 그래프에서 길이가 k이하인 해밀토니안 경로가 존재하는가?

## 최적화 문제
* 그래프에서 길이가 가장 짧은 해밀토니안 경로는 얼마인가?
* 높은 난이도 ==> 비교적 간단한 Yes/No 문제로 변환해 해결

## Hilbert의 10번째 문제
* 임의의 주어진 디오판토스 방정식이 정수해를 갖는지를 판별
* Solution: 존재하지 않음 (부정적 해결)

## NP-Complete
* Yes/No의 대답을 유구하는 문제에 국한 (but, 최적화 문제와 밀접하게 연관)
* 문제를 현실적인 시간에 풀수 있는가에 관한 이론
* 거대한 군을 구성 ==> 한 문제만 현실적인 시간에 풀면 나머지도 풀리는 논리적 연결관계

### 지금까지의 연구결과
* 어떤 문제가 NP-Complete임이 확인되면 모든 문제가 다항식 시간에 해결됨
* 아직은 현실적인 시간에 풀수 있는 방법이 없음
* 다만, 존재하지 않는지 증명도 되지 않은 상태 ==> 해답이 있는지 없는지 모름

## 준비
* 문제1: 정수 x = x1 * x2 * x3 * .... * xn 은 3의 배수인가
* 문제2: x1 + x2 + x3 + ...... + xn은 3의 배수인가?  <== NP-Complete


* 두 문제의 대답은 같다 (== Yes/No 대답이 일치한다)
* 문제 2가 쉬우면, 문제1도 쉽다.
* 아주 어려운 문제 ==> 비교적 쉬운 문제로 변환해서 해결
* 이때, `비교적 쉬운문제를 NP-Complete`라고 함

## 상황
* 문제 B는 쉽다
* 문제 A는 Yes/No 대답이 일치하는 문제 B로 쉽게 변형된다
* 문제 A -- (다항식 시간 변환) > 문제 B


* 다항식 시간 변환이 가능하다 == O(n^k^)로 나타낼 수 있을 때 + 답이 일치할때

### 다항식 시간 변환(Poly - Time Reduction)
* 문제 A의 사례 a를 문제 B의 사례 b로 바꾸었을때
1. 변환은 다항식 시간에 이루어짐
2. 두 사례의 답은 일치


* 조건을 충족하면 다항식 시간 변환이라고 하고, a <= pb로 표기

### 문제 A를 푸는 알고리즘
1. 문제 A를 다항식 시간에 문제 B로 변환
2. 변환된 문제 B를 해결
3. B의 대답을 리턴 (=A의 대답, B의 대답은 동일)

## P and NP
* P(Polynomial): 다항식 시간에 Yes or No(or 최적값)를 대답할 수 있음
* NP (Nondeterministic Polynomial): 다항식 시간안에 대답불가능, 단, Yes 대답이 나오는 해를 제공 했을때, 이것이 Yes 대답을 내는 해 임을 다항식 시간에 확인 가능 (<b>Non-P의 준말이 아님!!</b>)
* 		==> 답을 제공했을때 확인 자체는 다항식 시간안에 가능

## NP의 예
### TSP
* 문제 특성상 풀기 어려움 (모든 경우의 수를 전부 계산해야 함)
* 예시 제안 (최적답이 맞을 수도, 아닐수도 있음) ==> Yes/No 대답 가능
* NP문제

### Hamilton 회로 문제
* 20면체의 모든 꼭지점을 한번씩만 지나, 다시 처음 꼭지점으로 되돌아 오는 문제
* == 한붓그리기 문제
* 오일러가 간단하게 해결

### 시간표 짜기
* 최적의 시간표는 알수 없음

### 퍼즐 맞추기
* 퍼즐을 맞추기는 힘듦
* 맞춰놓은 퍼즐이 정답인지 아닌지 판단한는 것은 간단

### 소수[솟수], 합성수 판정

### 이삿짐 싸기

### 선형계획법
* 선셩방정식의 연립 부등식을 푸는 문제

## NP, NP-Complete, NP-Hard의 관계
* P는 NP 내부에 존재(추정)
* NP-Complete: NP문제 중, NP-Hard인 문제
* NP-Hard: NP문제들로 중 다항식 시간 내에 문제 변환이 가능한 경우
* 슬라이드 11 참고 (Week 11.1)

## NP-Complete/Hard
* NP: Yes대답이 나오는 해를 제공하면, 이를 다항식 시간에 확인 가능

### 다음 성질 만족시, 문제 L은 NP-Hard
* 모든 NP문제가 L로 다항식 시간내에 변환가능

### 다음 성질 만족시, 문제 L은 NP-Complete
* L은 NP
* L은 NP-Hard
* NP-C는 NP-H의 일부!! ==> NP-C는 NP-H라고 해도 무관

## 정리
* 문제 A: 알려진 임의의 NP-Hard 문제
* 문제 A를 다항식 시간내에 문제 L로 변환가능 ==> 문제 L은 NP-Hard
* 결론: 문제 L을 쉽게 풀수 있다면, 문제 A도 쉽게 풀 수 있음 ==> 모든 NP문제를 쉽게 풀 수 있음

### 예시
* 헤밀토니안 싸이클 문제가 NP-Hard임을 알고있다고 가정
* 이를 이용해 TSP가 NP-Hard임을 보일 수 있음


* 해밀토니안 싸이클: 그래프의 모든 정점을 단 한번씩 방문하고 돌아오는 경로
* TSP: 모든 정점을 방문하되, Weight 합이 가장 작은 경로

#### 변환
* 해밀토니안 싸이클을 가진다
* == 거리가 Vertex 수 이하인 해밀토니안 사이클 (== TSP)

## NP-Complete의 역사
1. GSAT: 부울 식 만족문제 (P.378 - 정의 8)
2. SAT, 3SAT
3. CLIQUE, SUBSET-SUM
4. VERTEX-COVER
5. HAM-CYCLE, HAM-PATH, HAM-PATH-2-POINTS
6. TSP


* 개념의 존재만 이해, 크게 중요한 문제는 아님 (문제의 구분 정도만 가능하면 충분)
* 알고리즘에서는 P문제에 대해서만 고려해도 충분히 방대한 분량

## 직관과 배치되는 NP-Complete 문제의 예
### Shortest Path
* 간단히 계산 가능
* P 문제

### Longest Path
* 비슷해 보이지만 간단히 계산할 수 없음
* NP-Complete이자 NP-Hard

#### NP-Hard임을 증명
* 해밀토니안 경로 문제 ==> Longest Path로 다항식 시간 변환 가능

### 두 점 사이 해밀토니안 경로 문제
* NP-Complete문제로 알려져 있음

